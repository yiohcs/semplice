{"remainingRequest":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yschoi/Desktop/workspace/yschoi/frontend/src/views/dashboard/pages/Catalog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/src/views/dashboard/pages/Catalog.vue","mtime":1609932884620},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKY29uc3QgVnVlID0gcmVxdWlyZSgndnVlJyk7CmltcG9ydCBkcmF3ZXIgZnJvbSAiLi4vY29tcG9uZW50cy9jb3JlL0RyYXdlciI7CgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDbHVzdGVycyIsCiAgLy8gZGF0YTogZnVuY3Rpb24gKCl7CiAgLy8gICByZXR1cm57CiAgLy8gICAgIGxpc3Q6WydhJywnYiddLAogIC8vICAgfTsKICAvLyB9CiAgbWV0aG9kczp7CiAgICBwcm9qZWN0SWRDaGFuZ2UoKXsKICAgICAgdGhpcy5nZXROYW1lc3BhY2VzKHRoaXMuJHN0b3JlLnN0YXRlLmNsdXN0ZXJEZXRhaWxJbmZvLmNwaWQpCiAgICB9LAogICAgbmFtZXNwYWNlQ2hhbmdlKG5hbWUpewogICAgICBjb25zb2xlLmxvZyhuYW1lKQogICAgICB0aGlzLnNlbE5hbWVzcGFjZSA9IG5hbWUKICAgIH0sCiAgICBjYXRhbG9nQ2hhbmdlKGlkKXsKICAgICAgY29uc29sZS5sb2coaWQpCiAgICAgIHRoaXMuc2VsQ2F0YWxvZyA9IHtpZDppZH0KICAgIH0sCiAgICBjYXRhbG9nQ3JlYXRlU2hvdygpewogICAgICB0aGlzLmRpYWxvZ0NhdGFsb2cgPSB0cnVlCiAgICB9LAogICAgY3JlYXRlQ2F0YWxvZygpewogICAgICBsZXQgX3NlbGYgPSB0aGlzCiAgICAgIGxldCBjYXRhbG9nRGF0YSA9IHsKICAgICAgICBuYW1lOiBfc2VsZi5zZWxOYW1lLAogICAgICAgIG5hbWVzcGFjZUlkOiBfc2VsZi5zZWxOYW1lc3BhY2UsCiAgICAgICAgcHJvamVjdElkOiBfc2VsZi4kc3RvcmUuc3RhdGUuY2x1c3RlckRldGFpbEluZm8uY3BpZCwKICAgICAgICBleHRlcm5hbElkOiBfc2VsZi5zZWxDYXRhbG9nLAogICAgICB9CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvY2F0YWxvZy9jcmVhdGVDYXRhbG9nJyxjYXRhbG9nRGF0YQogICAgICApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgIC8vIHRoaXMuZ2V0U2VydmljZXMocmVzcG9uc2UuZGF0YS5wcm9qZWN0SWQpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcil7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpewoKICAgICAgfSk7CiAgICB9LAoKICAgIGdldE5hbWVzcGFjZXMoY3BpZCl7CiAgICAgIGxldCBfc2VsZiA9IHRoaXMKICAgICAgYXhpb3MuZ2V0KCcvYXBpL3Byb2plY3RzL25hbWVzcGFjZXMvJytfc2VsZi4kc3RvcmUuc3RhdGUuY2x1c3RlckRldGFpbEluZm8uaWQrJy8nK2NwaWQsewogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7CgogICAgICAgIGxldCBqc29uU3RyID0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkKICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoanNvblN0cikKCiAgICAgICAgY29uc29sZS5sb2coanNvbikKICAgICAgICBfc2VsZi5uYW1lc3BhY2VzID0ganNvbgoKICAgICAgICBjb25zb2xlLmxvZyhfc2VsZi5uYW1lc3BhY2VzKQoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCl7CgogICAgICB9KTsKICAgIH0sCgogICAgZ2V0Q2F0YWxvZygpewogICAgICBsZXQgX3NlbGYgPSB0aGlzCiAgICAgIGxldCBjYXRhbG9nRGF0YSA9IHsKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmNsdXN0ZXJEZXRhaWxJbmZvLmNwaWQsCiAgICAgIH0KICAgICAgYXhpb3MucG9zdCgnL2FwaS9jYXRhbG9nL2dldEFwcHMnLGNhdGFsb2dEYXRhCiAgICAgICkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCgogICAgICAgIGxldCBqc29uU3RyID0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGpzb25TdHIpOwoKICAgICAgICBfc2VsZi5pbmZvcm1hdGlvbiA9IGpzb247CgogICAgICAgIC8vIHRoaXMuZ2V0U2VydmljZXMocmVzcG9uc2UuZGF0YS5wcm9qZWN0SWQpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcil7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpewoKICAgICAgfSk7CiAgICB9CiAgfSwgLy8gZW5kIG9mIG1ldGhvZHMKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dDYXRhbG9nOmZhbHNlLAogICAgICBwcm9qZWN0czpbXSwKICAgICAgbmFtZXNwYWNlczpbXSwKICAgICAgY2F0YWxvZ3M6W3tuYW1lOiJncmFmYW5hIixpZDonY2F0YWxvZzovLz9jYXRhbG9nPWxpYnJhcnkmdGVtcGxhdGU9Z3JhZmFuYSZ2ZXJzaW9uPTMuOC42J30sXSwKICAgICAgaGVhZGVyczpbCiAgICAgICAge3RleHQ6J+yDge2DnCcsdmFsdWU6J3N0YXRlJ30sCiAgICAgICAge3RleHQ6J+y5tO2DiOuhnOq3uCDsnbTrpoQnLHZhbHVlOidzZWxlY3Rvci5yZWxlYXNlJ30sCiAgICAgICAge3RleHQ6J+y5tO2DiOuhnOq3uCDsooXrpZgnLHZhbHVlOidzZWxlY3Rvci5hcHAnfSwKICAgICAgXSwKICAgICAgaW5mb3JtYXRpb246W10sCiAgICAgIHNlbE5hbWU6ICcnLAogICAgICBzZWxOYW1lc3BhY2U6ICcnLAogICAgICBzZWxDYXRhbG9nOiB7fSwKICAgIH0KICB9LCAvLyBlbmQgb2YgZGF0YQogIGNvbXB1dGVkOiB7CgogIH0sCiAgY3JlYXRlZCgpewogICAgdGhpcy5nZXRDYXRhbG9nKCkKICB9LCAvLyBlbmQgb2YgY3JlYXRlZAp9Cg=="},{"version":3,"sources":["Catalog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Catalog.vue","sourceRoot":"src/views/dashboard/pages","sourcesContent":["<template>\n  <v-container\n    id=\"user-profile\"\n    fluid\n    tag=\"section\"\n  >\n    <v-row justify=\"center\">\n      <v-col\n        cols=\"12\"\n        md=\"10\"\n      >\n        <v-card>\n          <div style=\"position: relative; width: 100%; height: 60px;\">\n            <div style=\"position: absolute; right: 3%; top: 15%; white-space: nowrap;\">\n              <v-btn\n                  color=\"primary\"\n                  dark\n                  class=\"mb-2\"\n                  @click=\"catalogCreateShow\"\n                  style=\"display: inline-block;\"\n              >\n                카탈로그 추가\n              </v-btn>\n            </div>\n          </div>\n\n          <v-data-table\n              :headers=\"headers\"\n              :items=\"information\"\n              :items-per-page=\"10\"\n              class=\"elevation-1\"\n          >\n          </v-data-table>\n        </v-card>\n\n\n        <v-dialog v-model=\"dialogCatalog\" max-width=\"700px\">\n          <v-card>\n            <v-card-title >\n              <span class=\"headline\">카탈로그 추가</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col\n                      cols=\"12\"\n                      sm=\"6\"\n                      md=\"4\"\n                  >\n                    <v-text-field\n                        v-model=\"selName\"\n                        label=\"name\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                >\n                    <v-select\n                        :items=\"$store.state.clusterDetailInfo.cpid\" @change=\"projectIdChange\" item-text=\"name\" item-value=\"id\" label=\"projects\">\n                    </v-select>\n                </v-col>\n                  <v-col\n                      cols=\"12\"\n                      sm=\"6\"\n                      md=\"4\"\n                  >\n                    <v-select\n                        :items=\"namespaces\" @change=\"namespaceChange\" item-text=\"name\" item-value=\"id\" label=\"namespaces\">\n                    </v-select>\n                  </v-col>\n                  <v-col\n                      cols=\"12\"\n                      sm=\"6\"\n                      md=\"4\"\n                  >\n                    <v-select\n                    :items=\"catalogs\" @change=\"catalogChange\" item-text=\"name\" item-value=\"id\" label=\"catalogs\">\n\n                    </v-select>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-col style=\"padding-left: 77%;\">\n              <v-btn\n                  color=\"primary\"\n                  dark\n                  class=\"mb-2\"\n                  @click=\"createCatalog\"\n                  style=\"\"\n              >\n                카탈로그 추가\n              </v-btn>\n            </v-col>\n          </v-card>\n        </v-dialog>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nconst axios = require('axios');\nconst Vue = require('vue');\nimport drawer from \"../components/core/Drawer\";\n\n\nexport default {\n  name: \"Clusters\",\n  // data: function (){\n  //   return{\n  //     list:['a','b'],\n  //   };\n  // }\n  methods:{\n    projectIdChange(){\n      this.getNamespaces(this.$store.state.clusterDetailInfo.cpid)\n    },\n    namespaceChange(name){\n      console.log(name)\n      this.selNamespace = name\n    },\n    catalogChange(id){\n      console.log(id)\n      this.selCatalog = {id:id}\n    },\n    catalogCreateShow(){\n      this.dialogCatalog = true\n    },\n    createCatalog(){\n      let _self = this\n      let catalogData = {\n        name: _self.selName,\n        namespaceId: _self.selNamespace,\n        projectId: _self.$store.state.clusterDetailInfo.cpid,\n        externalId: _self.selCatalog,\n      }\n      axios.post('/api/catalog/createCatalog',catalogData\n      ).then(function (response){\n        console.log(response.data)\n        // this.getServices(response.data.projectId)\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n\n    getNamespaces(cpid){\n      let _self = this\n      axios.get('/api/projects/namespaces/'+_self.$store.state.clusterDetailInfo.id+'/'+cpid,{\n      }).then(function (response){\n\n        let jsonStr = JSON.stringify(response.data)\n        let json = JSON.parse(jsonStr)\n\n        console.log(json)\n        _self.namespaces = json\n\n        console.log(_self.namespaces)\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n\n    getCatalog(){\n      let _self = this\n      let catalogData = {\n        projectId: this.$store.state.clusterDetailInfo.cpid,\n      }\n      axios.post('/api/catalog/getApps',catalogData\n      ).then(function (response){\n        console.log(response.data)\n\n        let jsonStr = JSON.stringify(response.data);\n        let json = JSON.parse(jsonStr);\n\n        _self.information = json;\n\n        // this.getServices(response.data.projectId)\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    }\n  }, // end of methods\n\n  data () {\n    return {\n      dialogCatalog:false,\n      projects:[],\n      namespaces:[],\n      catalogs:[{name:\"grafana\",id:'catalog://?catalog=library&template=grafana&version=3.8.6'},],\n      headers:[\n        {text:'상태',value:'state'},\n        {text:'카탈로그 이름',value:'selector.release'},\n        {text:'카탈로그 종류',value:'selector.app'},\n      ],\n      information:[],\n      selName: '',\n      selNamespace: '',\n      selCatalog: {},\n    }\n  }, // end of data\n  computed: {\n\n  },\n  created(){\n    this.getCatalog()\n  }, // end of created\n}\n</script>"]}]}