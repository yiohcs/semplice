{"remainingRequest":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yschoi/Desktop/workspace/yschoi/frontend/src/views/dashboard/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/src/views/dashboard/login/Login.vue","mtime":1609909089655},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yschoi/Desktop/workspace/yschoi/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCmltcG9ydCB7IHJlcXVpcmVkLCBkaWdpdHMsIGVtYWlsLCBtYXgsIHJlZ2V4IH0gZnJvbSAndmVlLXZhbGlkYXRlL2Rpc3QvcnVsZXMnCmltcG9ydCB7IGV4dGVuZCwgVmFsaWRhdGlvbk9ic2VydmVyLCBWYWxpZGF0aW9uUHJvdmlkZXIsIHNldEludGVyYWN0aW9uTW9kZSB9IGZyb20gJ3ZlZS12YWxpZGF0ZScKCnNldEludGVyYWN0aW9uTW9kZSgnZWFnZXInKQoKZXh0ZW5kKCdyZXF1aXJlZCcsIHsKICAuLi5yZXF1aXJlZCwKICBtZXNzYWdlOiAne19maWVsZF99IGNhbiBub3QgYmUgZW1wdHknLAp9KQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFZhbGlkYXRpb25Qcm92aWRlciwKICAgIFZhbGlkYXRpb25PYnNlcnZlciwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICB1c2VybmFtZTogJycsCiAgICBwYXNzd29yZDogJycsCgogIH0pLAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9MT0FESU5HJywgZmFsc2UpCiAgfSwKICBtZXRob2RzOiB7CgoKICAgIHNldFVzZXJUb2tlbkFuZElkKCl7CiAgICAgIGxldCB1c2VyRGF0YSA9IHsKICAgICAgICBiZWFyZXJUb2tlbjogdGhpcy4kc3RvcmUuc3RhdGUuYmVhcmVyVG9rZW4sCiAgICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySWQsCiAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuc3RhdGUubmFtZSwKICAgICAgfQogICAgICBheGlvcy5wb3N0KCcvYXBpL3VzZXJzL3NldFRva2VuQW5kSWQvJyx1c2VyRGF0YQogICAgICApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcil7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpewoKICAgICAgfSk7CiAgICB9LAoKICAgIHNldENsdXN0ZXJUb2tlbkFuZElkKCl7CiAgICAgIGxldCB1c2VyRGF0YSA9IHsKICAgICAgICBiZWFyZXJUb2tlbjogdGhpcy4kc3RvcmUuc3RhdGUuYmVhcmVyVG9rZW4sCiAgICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySWQsCiAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuc3RhdGUubmFtZSwKICAgICAgfQogICAgICBheGlvcy5wb3N0KCcvYXBpL2NsdXN0ZXJzL3NldFRva2VuQW5kSWQvJyx1c2VyRGF0YQogICAgICApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcil7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpewoKICAgICAgfSk7CiAgICB9LAogICAgc2V0Q2F0YWxvZ1Rva2VuQW5kSWQoKXsKICAgICAgbGV0IHVzZXJEYXRhID0gewogICAgICAgIGJlYXJlclRva2VuOiB0aGlzLiRzdG9yZS5zdGF0ZS5iZWFyZXJUb2tlbiwKICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJZCwKICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS5uYW1lLAogICAgICB9CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvY2F0YWxvZy9zZXRUb2tlbkFuZElkLycsdXNlckRhdGEKICAgICAgKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7CgogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKXsKCiAgICAgIH0pOwogICAgfSwKCiAgICBzZXRMb2dpblRva2VuQW5kSWQoKXsKICAgICAgbGV0IHVzZXJEYXRhID0gewogICAgICAgIGJlYXJlclRva2VuOiB0aGlzLiRzdG9yZS5zdGF0ZS5iZWFyZXJUb2tlbiwKICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJZCwKICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS5uYW1lLAogICAgICB9CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvbG9naW4vc2V0VG9rZW5BbmRJZC8nLHVzZXJEYXRhCiAgICAgICkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpewoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCl7CgogICAgICB9KTsKICAgIH0sCgogICAgc2V0UHJvamVjdFRva2VuQW5kSWQoKXsKICAgICAgbGV0IHVzZXJEYXRhID0gewogICAgICAgIGJlYXJlclRva2VuOiB0aGlzLiRzdG9yZS5zdGF0ZS5iZWFyZXJUb2tlbiwKICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJZCwKICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS5uYW1lLAogICAgICB9CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvcHJvamVjdHMvc2V0VG9rZW5BbmRJZC8nLHVzZXJEYXRhCiAgICAgICkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpewoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCl7CgogICAgICB9KTsKICAgIH0sCgogICAgc2V0VG9rZW5BbmRJZCgpewogICAgICB0aGlzLnNldFVzZXJUb2tlbkFuZElkKCkKICAgICAgdGhpcy5zZXRDbHVzdGVyVG9rZW5BbmRJZCgpCiAgICAgIHRoaXMuc2V0TG9naW5Ub2tlbkFuZElkKCkKICAgICAgdGhpcy5zZXRDYXRhbG9nVG9rZW5BbmRJZCgpCiAgICAgIHRoaXMuc2V0UHJvamVjdFRva2VuQW5kSWQoKQogICAgfSwKCiAgICBzdWJtaXQgKHJlcykgewogICAgICBsZXQgX3NlbGYgPSB0aGlzCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0xPQURJTkcnLCB0cnVlKQogICAgICAvLyB0aGlzLiRyZWZzLm9ic2VydmVyLnZhbGlkYXRlKCkKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgY29uc29sZS5sb2cocmVzLnRhcmdldFswXS52YWx1ZSk7CiAgICAgIGNvbnNvbGUubG9nKHJlcy50YXJnZXRbMV0udmFsdWUpOwogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogcmVzLnRhcmdldFswXS52YWx1ZSwKICAgICAgICBwYXNzd29yZDogcmVzLnRhcmdldFsxXS52YWx1ZSwKICAgICAgfQogICAgICBheGlvcy5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luVXNlcicsZGF0YQogICAgICApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS51c2VySWQpOwogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEubmFtZSk7CgogICAgICAgIF9zZWxmLiRzdG9yZS5jb21taXQoJ1NFVF9UT0tFTicsIHJlc3BvbnNlLmRhdGEudG9rZW4pCiAgICAgICAgX3NlbGYuJHN0b3JlLmNvbW1pdCgnU0VUX1VTRVJJRCcsIHJlc3BvbnNlLmRhdGEudXNlcklkKQogICAgICAgIF9zZWxmLiRzdG9yZS5jb21taXQoJ1NFVF9OQU1FJywgcmVzcG9uc2UuZGF0YS5uYW1lKQoKCiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKQogICAgICAgIGxldCBsb2dpblRpbWUgPSB0b2RheS5nZXRUaW1lKCkKICAgICAgICBjb25zb2xlLmxvZygndGltZTogJyArIHRvZGF5LmdldFRpbWUoKSkKCiAgICAgICAgX3NlbGYuJHN0b3JlLmNvbW1pdCgnU0VUX1RJTUUnLCBsb2dpblRpbWUpCgogICAgICAgIGNvbnNvbGUubG9nKF9zZWxmLiRzdG9yZS5zdGF0ZS5iZWFyZXJUb2tlbikKICAgICAgICBjb25zb2xlLmxvZyhfc2VsZi4kc3RvcmUuc3RhdGUudXNlcklkKQogICAgICAgIGNvbnNvbGUubG9nKF9zZWxmLiRzdG9yZS5zdGF0ZS5uYW1lKQoKICAgICAgICBfc2VsZi5zZXRUb2tlbkFuZElkKCkKCiAgICAgICAgaWYoX3NlbGYuJHN0b3JlLnN0YXRlLmJlYXJlclRva2VuICE9IG51bGwgJiYgX3NlbGYuJHN0b3JlLnN0YXRlLmJlYXJlclRva2VuICE9ICcnKXsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0xPQURJTkcnLCBmYWxzZSkKICAgICAgICAgIF9zZWxmLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgICAgfQoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCl7CgogICAgICB9KTsKICAgIH0sCiAgICBjbGVhciAoKSB7CiAgICAgIHRoaXMudXNlcm5hbWUgPSAnJwogICAgICB0aGlzLnBhc3N3b3JkID0gJycKICAgICAgdGhpcy4kcmVmcy5vYnNlcnZlci5yZXNldCgpCiAgICB9LAogIH0sCn0KCg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/dashboard/login","sourcesContent":["<template>\n  <v-container\n    id=\"user-login\"\n    fluid\n    tag=\"section\"\n  >\n    <v-row justify=\"center\">\n      <v-col\n          cols=\"12\"\n          md=\"4\"\n      >\n        <validation-observer\n        ref=\"observer\"\n        v-slot=\"{ invalid }\"\n        >\n        <form @submit.prevent=\"submit\">\n          <validation-provider\n              name=\"UserName\"\n              rules=\"required|max:10\"\n          >\n            <v-text-field\n                v-model=\"username\"\n                label=\"User Name\"\n                required\n            ></v-text-field>\n          </validation-provider>\n          <validation-provider\n              name=\"Password\"\n          >\n            <v-text-field\n                v-model=\"password\"\n                type=\"password\"\n                label=\"Password\"\n                required\n            ></v-text-field>\n          </validation-provider>\n\n          <v-btn\n              class=\"mr-4\"\n              type=\"submit\"\n              width=\"100%\"\n          >\n            Login\n          </v-btn>\n        </form>\n        </validation-observer>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nconst axios = require('axios');\n\nimport { required, digits, email, max, regex } from 'vee-validate/dist/rules'\nimport { extend, ValidationObserver, ValidationProvider, setInteractionMode } from 'vee-validate'\n\nsetInteractionMode('eager')\n\nextend('required', {\n  ...required,\n  message: '{_field_} can not be empty',\n})\n\nexport default {\n  components: {\n    ValidationProvider,\n    ValidationObserver,\n  },\n  data: () => ({\n    username: '',\n    password: '',\n\n  }),\n  created() {\n    this.$store.commit('SET_LOADING', false)\n  },\n  methods: {\n\n\n    setUserTokenAndId(){\n      let userData = {\n        bearerToken: this.$store.state.bearerToken,\n        userId: this.$store.state.userId,\n        name: this.$store.state.name,\n      }\n      axios.post('/api/users/setTokenAndId/',userData\n      ).then(function (response){\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n\n    setClusterTokenAndId(){\n      let userData = {\n        bearerToken: this.$store.state.bearerToken,\n        userId: this.$store.state.userId,\n        name: this.$store.state.name,\n      }\n      axios.post('/api/clusters/setTokenAndId/',userData\n      ).then(function (response){\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n    setCatalogTokenAndId(){\n      let userData = {\n        bearerToken: this.$store.state.bearerToken,\n        userId: this.$store.state.userId,\n        name: this.$store.state.name,\n      }\n      axios.post('/api/catalog/setTokenAndId/',userData\n      ).then(function (response){\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n\n    setLoginTokenAndId(){\n      let userData = {\n        bearerToken: this.$store.state.bearerToken,\n        userId: this.$store.state.userId,\n        name: this.$store.state.name,\n      }\n      axios.post('/api/login/setTokenAndId/',userData\n      ).then(function (response){\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n\n    setProjectTokenAndId(){\n      let userData = {\n        bearerToken: this.$store.state.bearerToken,\n        userId: this.$store.state.userId,\n        name: this.$store.state.name,\n      }\n      axios.post('/api/projects/setTokenAndId/',userData\n      ).then(function (response){\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n\n    setTokenAndId(){\n      this.setUserTokenAndId()\n      this.setClusterTokenAndId()\n      this.setLoginTokenAndId()\n      this.setCatalogTokenAndId()\n      this.setProjectTokenAndId()\n    },\n\n    submit (res) {\n      let _self = this\n      this.$store.commit('SET_LOADING', true)\n      // this.$refs.observer.validate()\n      console.log(res);\n      console.log(res.target[0].value);\n      console.log(res.target[1].value);\n      let data = {\n        username: res.target[0].value,\n        password: res.target[1].value,\n      }\n      axios.post('/api/users/loginUser',data\n      ).then(function (response){\n        console.log(response);\n        console.log(response.data.token);\n        console.log(response.data.userId);\n        console.log(response.data.name);\n\n        _self.$store.commit('SET_TOKEN', response.data.token)\n        _self.$store.commit('SET_USERID', response.data.userId)\n        _self.$store.commit('SET_NAME', response.data.name)\n\n\n        let today = new Date()\n        let loginTime = today.getTime()\n        console.log('time: ' + today.getTime())\n\n        _self.$store.commit('SET_TIME', loginTime)\n\n        console.log(_self.$store.state.bearerToken)\n        console.log(_self.$store.state.userId)\n        console.log(_self.$store.state.name)\n\n        _self.setTokenAndId()\n\n        if(_self.$store.state.bearerToken != null && _self.$store.state.bearerToken != ''){\n          this.$store.commit('SET_LOADING', false)\n          _self.$router.push('/')\n        }\n\n      }).catch(function (error){\n        console.log(error);\n      }).finally(function (){\n\n      });\n    },\n    clear () {\n      this.username = ''\n      this.password = ''\n      this.$refs.observer.reset()\n    },\n  },\n}\n\n</script>\n\n// const getProject = async () => {\n//   try {\n//     console.log('gg');\n//     return await axios.get('/api/cluster');\n//   }catch(error){\n//     console.error(error);\n//     console.log('error');\n//   }\n// };\n//\n// const projectList = async () => {\n//   const project = await getProject();\n//   console.log(project);\n//   if(project.data.message){\n//     console.log('');\n//   }\n//   return project;\n// };\n//\n//   export default {\n//     name: \"Cluster\",\n//     created(){\n//       var json = projectList();\n//       console.log(json);\n//     }\n//   }"]}]}